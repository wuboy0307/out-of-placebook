messages: {

  numUnseenChats: 0

  chats: [
    {
      channelId : 2,
      image: '...',
      lastMessage: '...',
      lastMessageTime: '...',
      lastMessageFullName: '...',
      numUnseen: 15
    },
    { ... }
  ]

  currentChat: [
    {
      body: "hello world!"
      timestamp: "...",
      authorAvatar: "...",
      authorFirstName: "..."
    }
  ]

}

GET /api/messages/count
  - get message count

GET /api/messages/
  - reset message count and get message previews

GET /api/messages/id
  - get messages for channel

UPDATE /api/messages/id
  - create message for channel

# SELECT messages.channel_id, MAX(messages.created_at) FROM messages
# INNER JOIN channels
# ON messages.channel_id = channels.id
# GROUP BY messages.channel_id
# ORDER BY MAX(messages.created_at) desc
#
# Message.select('messages.channel_id, MAX(messages.created_at)').joins('INNER JOIN channels
# ON messages.channel_id = channels.id').group('messages.channel_id').order('MAX(messages.created_at)')


UPDATE lastfetch for channel on both request and sending of message
